---
title: JVM垃圾回收机制和内存管理优化
date: 2016-08-29 07:56:29  #发表日期
categories: 编程  #文章分类
tags: [Java]  #文章标签，多标签时使用英文逗号隔开
photos:  #如果使用Fancybox（文章头部展示图片），如此设置
- https://raw.githubusercontent.com/weizhang93/PicRep/master/sailing-boat-1593613_960_720.jpg
---

#### Jvm内存模型

默认指Hotspot

* JVM主要管理两种类型内存：堆和非堆
* 堆是运行时数据区域，所有类实例和数组的内存均从此处分配
* 非堆留给JVM自己使用，包含方法区、JVM内部处理和优化所需的内存、每个类结构（如运行时常数池、字段和方法数据）以及方法和构造方法的代码

一般来说，new 的对象和数组都是在堆中，而GC主要回收的内存也是这块堆内存。

#### 堆内存模型

* 堆内存有垃圾回收器的自动管理系统回收
* 堆内存分为两大部分：新生代和老年代。比例为1:2
* 老年代主要存放程序中生命周期长的存活对象
* 新生代又分为三个部分：一个Eden区和两个Survivor，比例为8:1:1
* Survivor存放每次垃圾回收后存活的对象